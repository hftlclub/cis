<div class="page-header">
  <div class="pull-right">
    <a ng-click="save()" class="btn btn-success">
      <span class="glyphicon glyphicon-save"></span>
      Speichern
    </a>
  </div>
  <h2>Protokoll erstellen</h2>
</div>

<form class="form-horizontal" role="form" ng-submit="form.submit()">

  <div class="form-group" ng-class="{'has-error has-feedback': form.errors.recorder}">
    <label for="inputRecorder" class="col-sm-2 control-label">Protokollführer</label>
    <div class="col-sm-10">
      <input type="text" ng-model="form.protocolData.recorder" class="form-control" id="inputRecorder" typeahead="user.firstname+' '+user.lastname for user in users.data | filter:$viewValue | limitTo:8" placeholder="Protokollführer" tooltip-placement="right" tooltip-trigger="focus" tooltip="Wer ist Protokollführer?">
      <span ng-if="form.errors.recorder" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
    </div>
  </div>

  <div class="form-group" ng-class="{'has-error has-feedback': form.errors.date}">
    <label for="inputDate" class="col-sm-2 control-label">Datum</label>
    <div ng-class="datepicker ? 'col-sm-4' : 'col-sm-10'">
      <input ng-focus="datepicker = true" type="text" class="form-control" ng-model="form.protocolData.date" datepicker-popup="{{format}}" tooltip-placement="bottom" tooltip-trigger="focus" tooltip="Wann wurde das Protokoll erstellt?"/>
      <span ng-if="form.errors.date" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
    </div>

    <label for="inputStartTime" class="col-sm-1 control-label">Beginn</label>
    <div class="col-sm-2">
      <input type="text" ng-model="form.protocolData.startTime" class="form-control" id="inputStartTime" placeholder="HH:MM Uhr" tooltip-placement="right" tooltip-trigger="focus" tooltip="Wann hat die Sitzung begonnen?">
      <span ng-if="form.errors.startTime" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
    </div>
    <label for="inputEndTime" class="col-sm-1 control-label">Ende</label>
    <div class="col-sm-2">
      <input type="text" ng-model="form.protocolData.endTime" class="form-control" id="inputEndTime" placeholder="HH:MM Uhr" tooltip-placement="right" tooltip-trigger="focus" tooltip="Wann war die Sitzung zu Ende?">
      <span ng-if="form.errors.endTime" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
    </div>
  </div>

  <div class="form-group">
      <label class="col-sm-2 control-label">Kalender</label>
      <div class="col-sm-10">
        <div style="display:inline-block; min-height:150px;">
          <datepicker ng-model="form.protocolData.date" datepicker-options="dateOptions" max-date="maxDate" class="well well-sm"></datepicker>
        </div>
      </div>
  </div>

  <div class="form-group" ng-class="{'has-error has-feedback': form.errors.presentMembers}">
    <label class="col-sm-2 control-label">Anwesende Mitglieder</label>
    <div class="col-sm-10">
        <div class="checkbox">
          <label ng-if="user.type == 'club' && !user.former" ng-repeat="user in users.data">
            <input checklist-model="form.protocolData.presentMembers" checklist-value="user.firstname+''+user.lastname"  checklist-change="imChanged()" type="checkbox"><span style="padding-right:15px;">{{user.firstname}} {{user.lastname}}</span>
          </label>
        </div>
    </div>
  </div>

  <div class="form-group" ng-class="{'has-error has-feedback': form.errors.later}">
    <label for="inputLater" class="col-sm-2 control-label">Später</label>
    <div class="col-sm-10">
      <input type="text" ng-model="form.protocolData.later" class="form-control" id="inputLater" typeahead="user.firstname+' '+user.lastname for user in users.data | filter:$viewValue | limitTo:8" placeholder="Vorname Nachname (HH:MM Uhr)" tooltip-placement="right" tooltip-trigger="focus" tooltip="Ist jemand zu spät gekommen?">
      <span ng-if="form.errors.later" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
    </div>
  </div>

  <div class="form-group" ng-class="{'has-error has-feedback': form.errors.candidate}">
    <label for="inputCandidate" class="col-sm-2 control-label">Anwärter</label>
    <div class="col-sm-10">
      <input type="text" ng-model="form.protocolData.candidate" class="form-control" id="inputCandidate" placeholder="Max Mustermann, Erika Mustermann" tooltip-placement="right" tooltip-trigger="focus" tooltip="Stellt sich jemand dem Club vor?">
      <span ng-if="form.errors.candidate" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
    </div>
  </div>

</form>

<h4>Protokolltext:</h4>
<div  class="well well-lg" ui-ace="aceoptions" ng-model="form.protocolData.text"> kommt der Protokolltext rein.</div>
